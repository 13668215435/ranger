From 83fb33fa774012619ab784b53d29076287962a38 Mon Sep 17 00:00:00 2001
From: Ramesh Mani <rmani@cloudera.com>
Date: Wed, 20 Jan 2021 20:51:25 -0800
Subject: [PATCH 1/1] Upgrade solr version in Ranger to Solr 8.6.3

---
 agents-audit/pom.xml                          | 47 +++++++++++++++++--
 distro/src/main/assembly/admin-web.xml        |  4 +-
 distro/src/main/assembly/hbase-agent.xml      |  3 +-
 distro/src/main/assembly/hdfs-agent.xml       |  3 +-
 distro/src/main/assembly/hive-agent.xml       |  2 +-
 distro/src/main/assembly/kms.xml              |  5 +-
 distro/src/main/assembly/knox-agent.xml       |  2 +-
 distro/src/main/assembly/plugin-atlas.xml     |  2 +-
 .../main/assembly/plugin-elasticsearch.xml    |  3 +-
 distro/src/main/assembly/plugin-kafka.xml     |  2 +-
 distro/src/main/assembly/plugin-kms.xml       |  3 +-
 distro/src/main/assembly/plugin-kylin.xml     |  3 +-
 distro/src/main/assembly/plugin-ozone.xml     |  3 +-
 distro/src/main/assembly/plugin-presto.xml    |  3 +-
 distro/src/main/assembly/plugin-sqoop.xml     |  3 +-
 distro/src/main/assembly/plugin-yarn.xml      |  3 +-
 distro/src/main/assembly/storm-agent.xml      |  3 +-
 pom.xml                                       |  3 +-
 18 files changed, 74 insertions(+), 23 deletions(-)

diff --git a/agents-audit/pom.xml b/agents-audit/pom.xml
index f026a0acf..85dd550ad 100644
--- a/agents-audit/pom.xml
+++ b/agents-audit/pom.xml
@@ -89,10 +89,49 @@
             </exclusions>
         </dependency>
         <dependency>
-           <groupId>org.apache.solr</groupId>
-           <artifactId>solr-solrj</artifactId>
-           <version>${solr.version}</version>
-       </dependency>
+            <groupId>org.apache.solr</groupId>
+            <artifactId>solr-solrj</artifactId>
+            <version>${solr.version}</version>
+            <exclusions>
+                <exclusion>
+                    <groupId>io.netty</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.eclipse.jetty.http2</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.apache.commons</groupId>
+                    <artifactId>commons-math3</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>commons-io</groupId>
+                    <artifactId>commons-io</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.apache.httpcomponents</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.apache.zookeeper</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.codehaus.woodstox</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+                <exclusion>
+                    <groupId>org.eclipse.jetty</groupId>
+                    <artifactId>*</artifactId>
+                </exclusion>
+            </exclusions>
+        </dependency>
+        <dependency>
+            <groupId>org.eclipse.jetty</groupId>
+            <artifactId>jetty-client</artifactId>
+            <version>${jetty-client.version}</version>
+        </dependency>
        <dependency>
             <groupId>org.apache.httpcomponents</groupId>
             <artifactId>httpclient</artifactId>
diff --git a/distro/src/main/assembly/admin-web.xml b/distro/src/main/assembly/admin-web.xml
index 95c1ac6d0..15d57fece 100644
--- a/distro/src/main/assembly/admin-web.xml
+++ b/distro/src/main/assembly/admin-web.xml
@@ -237,10 +237,9 @@
           <include>commons-collections:commons-collections</include>
           <include>commons-lang:commons-lang</include>
           <include>commons-io:commons-io</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
-          <include>org.noggit:noggit</include>
           <include>org.apache.zookeeper:zookeeper:jar:${zookeeper.version}</include>
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>commons-codec:commons-codec</include>
@@ -270,6 +269,7 @@
           <include>joda-time:joda-time</include>
           <include>org.apache.ranger:ranger-plugins-cred</include>
           <include>org.apache.ranger:ugsyn-util</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>org.apache.commons:commons-compress:jar:${commons.compress.version}</include>
         </includes>
       </binaries>
diff --git a/distro/src/main/assembly/hbase-agent.xml b/distro/src/main/assembly/hbase-agent.xml
index 05b4bb0a7..4100688d4 100644
--- a/distro/src/main/assembly/hbase-agent.xml
+++ b/distro/src/main/assembly/hbase-agent.xml
@@ -58,9 +58,10 @@
           <include>org.codehaus.jackson:jackson-jaxrs:jar:${codehaus.jackson.version}</include>
           <include>org.eclipse.persistence:eclipselink</include>
           <include>org.eclipse.persistence:javax.persistence</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.google.guava:guava:jar:${google.guava.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
diff --git a/distro/src/main/assembly/hdfs-agent.xml b/distro/src/main/assembly/hdfs-agent.xml
index 7d24dd8a6..1f1ce634c 100644
--- a/distro/src/main/assembly/hdfs-agent.xml
+++ b/distro/src/main/assembly/hdfs-agent.xml
@@ -84,11 +84,12 @@
           <include>commons-lang:commons-lang</include>
           <include>org.eclipse.persistence:javax.persistence</include>
           <include>org.eclipse.persistence:eclipselink</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/hive-agent.xml b/distro/src/main/assembly/hive-agent.xml
index 8878e01d4..baf6dcfd3 100644
--- a/distro/src/main/assembly/hive-agent.xml
+++ b/distro/src/main/assembly/hive-agent.xml
@@ -59,7 +59,7 @@
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/kms.xml b/distro/src/main/assembly/kms.xml
index f6b0d92e2..ed23333c0 100755
--- a/distro/src/main/assembly/kms.xml
+++ b/distro/src/main/assembly/kms.xml
@@ -37,6 +37,7 @@
                     <include>org.apache.hadoop:hadoop-common:jar:${hadoop.version}</include>
                     <include>org.apache.hadoop:hadoop-auth:jar:${hadoop.version}</include>
                     <include>org.eclipse.persistence:eclipselink</include>
+                    <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
                     <include>org.eclipse.persistence:javax.persistence</include>
                     <include>com.googlecode.log4jdbc:log4jdbc</include>
                     <include>log4j:log4j</include>
@@ -193,7 +194,7 @@
                     <include>com.google.protobuf:protobuf-java:jar:${protobuf-java.version}</include>
                     <include>org.apache.hadoop:hadoop-hdfs:jar:${hadoop.version}</include>
                     <include>org.apache.htrace:htrace-core4:jar:${htrace-core.version}</include>
-                    <include>org.apache.solr:solr-solrj</include>
+                    <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
                     <include>org.apache.ranger:ranger-plugins-common</include>
                     <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
                     <include>net.java.dev.jna:jna:jar:${jna.version}</include>
@@ -270,7 +271,7 @@
                             <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
                             <include>org.noggit:noggit:jar:${noggit.version}</include>
                             <include>org.apache.zookeeper:zookeeper:jar:${zookeeper.version}</include>
-                            <include>org.apache.solr:solr-solrj</include>
+                            <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
                             <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
                             <include>net.java.dev.jna:jna:jar:${jna.version}</include>
                             <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/knox-agent.xml b/distro/src/main/assembly/knox-agent.xml
index 0532e5a52..ceeb78c04 100644
--- a/distro/src/main/assembly/knox-agent.xml
+++ b/distro/src/main/assembly/knox-agent.xml
@@ -66,7 +66,7 @@
           <include>org.apache.htrace:htrace-core4:jar:${htrace-core.version}</include>
           <include>org.codehaus.jackson:jackson-core-asl:jar:${codehaus.jackson.version}</include>
           <include>org.codehaus.jackson:jackson-mapper-asl:jar:${codehaus.jackson.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/plugin-atlas.xml b/distro/src/main/assembly/plugin-atlas.xml
index f49db48e0..cfebb554c 100644
--- a/distro/src/main/assembly/plugin-atlas.xml
+++ b/distro/src/main/assembly/plugin-atlas.xml
@@ -62,7 +62,7 @@
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>org.codehaus.jackson:jackson-core-asl</include>
           <include>org.codehaus.jackson:jackson-mapper-asl</include>
           <include>org.codehaus.jackson:jackson-xc</include>
diff --git a/distro/src/main/assembly/plugin-elasticsearch.xml b/distro/src/main/assembly/plugin-elasticsearch.xml
index 1d224ca12..d116669cb 100644
--- a/distro/src/main/assembly/plugin-elasticsearch.xml
+++ b/distro/src/main/assembly/plugin-elasticsearch.xml
@@ -67,6 +67,7 @@
           <include>com.google.code.gson:gson</include>
           <include>org.eclipse.persistence:eclipselink</include>
           <include>org.eclipse.persistence:javax.persistence</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>com.sun.jersey:jersey-bundle</include>
           <include>commons-logging:commons-logging:jar:${commons.logging.version}</include>
           <include>commons-io:commons-io</include>
@@ -79,7 +80,7 @@
           <include>org.codehaus.jackson:jackson-jaxrs</include>
           <include>org.codehaus.jackson:jackson-mapper-asl</include>
           <include>org.codehaus.jackson:jackson-xc</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>commons-codec:commons-codec</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
diff --git a/distro/src/main/assembly/plugin-kafka.xml b/distro/src/main/assembly/plugin-kafka.xml
index b989d3904..370d7eb67 100644
--- a/distro/src/main/assembly/plugin-kafka.xml
+++ b/distro/src/main/assembly/plugin-kafka.xml
@@ -72,7 +72,7 @@
 					<include>org.codehaus.jackson:jackson-jaxrs</include>
 					<include>org.codehaus.jackson:jackson-mapper-asl</include>
 					<include>org.codehaus.jackson:jackson-xc</include>
-					<include>org.apache.solr:solr-solrj</include>
+					<include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
 					<include>commons-codec:commons-codec</include>
 					<include>org.codehaus.woodstox:stax2-api</include>
 					<include>com.fasterxml.woodstox:woodstox-core</include>
diff --git a/distro/src/main/assembly/plugin-kms.xml b/distro/src/main/assembly/plugin-kms.xml
index 46bd6a590..fefc334e1 100755
--- a/distro/src/main/assembly/plugin-kms.xml
+++ b/distro/src/main/assembly/plugin-kms.xml
@@ -58,6 +58,7 @@
           <include>com.google.code.gson:gson</include>
           <include>org.eclipse.persistence:eclipselink</include>
           <include>org.eclipse.persistence:javax.persistence</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>commons-collections:commons-collections</include>
           <include>commons-logging:commons-logging:jar:${commons.logging.version}</include>
           <include>com.google.guava:guava:jar:${google.guava.version}</include>
@@ -66,7 +67,7 @@
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
           <include>org.apache.zookeeper:zookeeper:jar:${zookeeper.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/plugin-kylin.xml b/distro/src/main/assembly/plugin-kylin.xml
index bf88151a5..7d88196d3 100644
--- a/distro/src/main/assembly/plugin-kylin.xml
+++ b/distro/src/main/assembly/plugin-kylin.xml
@@ -59,11 +59,12 @@
             <includes>
               <include>org.eclipse.persistence:eclipselink</include>
               <include>org.eclipse.persistence:javax.persistence</include>
+              <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
               <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
               <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
               <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
               <include>org.noggit:noggit:jar:${noggit.version}</include>
-              <include>org.apache.solr:solr-solrj</include>
+              <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
               <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
               <include>net.java.dev.jna:jna:jar:${jna.version}</include>
               <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/plugin-ozone.xml b/distro/src/main/assembly/plugin-ozone.xml
index d6734900d..474e53380 100644
--- a/distro/src/main/assembly/plugin-ozone.xml
+++ b/distro/src/main/assembly/plugin-ozone.xml
@@ -95,13 +95,14 @@
                     <include>commons-configuration:commons-configuration:jar:${commons.configuration1.version}</include>
                     <include>org.eclipse.persistence:javax.persistence</include>
                     <include>org.eclipse.persistence:eclipselink</include>
+                    <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
                     <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
                     <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
                     <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
 		    <include>org.apache.zookeeper:zookeeper:jar:${zookeeper.version}</include>
 		    <include>org.apache.zookeeper:zookeeper-jute:jar:${zookeeper.version}</include>
                     <include>org.noggit:noggit:jar:${noggit.version}</include>
-                    <include>org.apache.solr:solr-solrj</include>
+                    <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
                     <include>com.fasterxml.woodstox:woodstox-core:jar:${fasterxml.woodstox.version}</include>
                     <include>org.codehaus.woodstox:stax2-api:jar:${codehaus.woodstox.stax2api.version}</include>
                     <include>com.sun.jersey:jersey-core</include>
diff --git a/distro/src/main/assembly/plugin-presto.xml b/distro/src/main/assembly/plugin-presto.xml
index 09de1ad4e..e3508a199 100644
--- a/distro/src/main/assembly/plugin-presto.xml
+++ b/distro/src/main/assembly/plugin-presto.xml
@@ -69,11 +69,12 @@
                     <include>com.google.code.gson:gson*</include>
                     <include>org.eclipse.persistence:eclipselink</include>
                     <include>org.eclipse.persistence:javax.persistence</include>
+                    <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
                     <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
                     <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
                     <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
                     <include>org.noggit:noggit:jar:${noggit.version}</include>
-                    <include>org.apache.solr:solr-solrj</include>
+                    <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
                     <include>com.sun.jersey:jersey-core</include>
                     <include>com.sun.jersey:jersey-server</include>
                     <include>commons-cli:commons-cli</include>
diff --git a/distro/src/main/assembly/plugin-sqoop.xml b/distro/src/main/assembly/plugin-sqoop.xml
index af47dc83e..c7679a50b 100644
--- a/distro/src/main/assembly/plugin-sqoop.xml
+++ b/distro/src/main/assembly/plugin-sqoop.xml
@@ -55,11 +55,12 @@
         <includes>
           <include>org.eclipse.persistence:eclipselink</include>
           <include>org.eclipse.persistence:javax.persistence</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/plugin-yarn.xml b/distro/src/main/assembly/plugin-yarn.xml
index 14f8864e7..1a6192faa 100644
--- a/distro/src/main/assembly/plugin-yarn.xml
+++ b/distro/src/main/assembly/plugin-yarn.xml
@@ -55,11 +55,12 @@
         <includes>
           <include>org.eclipse.persistence:eclipselink</include>
           <include>org.eclipse.persistence:javax.persistence</include>
+          <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
           <include>org.apache.httpcomponents:httpmime:jar:${httpcomponents.httpmime.version}</include>
           <include>org.apache.httpcomponents:httpclient:jar:${httpcomponents.httpclient.version}</include>
           <include>org.apache.httpcomponents:httpcore:jar:${httpcomponents.httpcore.version}</include>
           <include>org.noggit:noggit:jar:${noggit.version}</include>
-          <include>org.apache.solr:solr-solrj</include>
+          <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
           <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
           <include>net.java.dev.jna:jna:jar:${jna.version}</include>
           <include>net.java.dev.jna:jna-platform:jar:${jna-platform.version}</include>
diff --git a/distro/src/main/assembly/storm-agent.xml b/distro/src/main/assembly/storm-agent.xml
index 820b34dde..325626c54 100644
--- a/distro/src/main/assembly/storm-agent.xml
+++ b/distro/src/main/assembly/storm-agent.xml
@@ -63,6 +63,7 @@
               <include>com.google.code.gson:gson</include>
               <include>org.eclipse.persistence:eclipselink</include>
               <include>org.eclipse.persistence:javax.persistence</include>
+              <include>org.eclipse.jetty:jetty-client:jar:${jetty-client.version}</include>
               <include>commons-collections:commons-collections</include>
               <include>commons-logging:commons-logging:jar:${commons.logging.version}</include>
               <include>com.google.guava:guava:jar:${google.guava.version}</include>
@@ -79,7 +80,7 @@
               <include>org.codehaus.jackson:jackson-core-asl</include>
               <include>org.codehaus.jackson:jackson-jaxrs</include>
               <include>org.codehaus.jackson:jackson-mapper-asl</include>
-              <include>org.apache.solr:solr-solrj</include>
+              <include>org.apache.solr:solr-solrj:jar:${solr.version}</include>
               <include>commons-codec:commons-codec</include>
               <include>com.kstruct:gethostname4j:jar:${kstruct.gethostname4j.version}</include>
               <include>net.java.dev.jna:jna:jar:${jna.version}</include>
diff --git a/pom.xml b/pom.xml
index 11a695065..b495809ca 100644
--- a/pom.xml
+++ b/pom.xml
@@ -145,6 +145,7 @@
         <jersey-server.version>1.19.3</jersey-server.version>
         <jersey-spring.version>1.19.3</jersey-spring.version>
         <jettison.version>1.1</jettison.version>
+        <jetty-client.version>9.4.31.v20200723</jetty-client.version>
         <jline.version>0.9.94</jline.version>
         <jopt-simple.version>3.2</jopt-simple.version>
         <json4s.version>3.2.11</json4s.version>
@@ -180,7 +181,7 @@
         <security-agent-install-dir>hadoop-security/plugins</security-agent-install-dir>
         <servlet.api.version>2.5</servlet.api.version>
         <slf4j-api.version>1.7.30</slf4j-api.version>
-        <solr.version>7.7.1</solr.version>
+        <solr.version>8.6.3</solr.version>
         <spring-ldap-core.version>2.3.3.RELEASE</spring-ldap-core.version>
         <springframework.security.version>4.2.18.RELEASE</springframework.security.version>
         <springframework.test.version>4.3.29.RELEASE</springframework.test.version>
-- 
2.24.3 (Apple Git-128)

